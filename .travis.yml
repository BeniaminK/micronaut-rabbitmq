dist: trusty
addons:
  chrome: stable
language: java
jdk:
- oraclejdk8
sudo: required
services:
- docker
env:
  global:
  - TERM=dumb
  - MALLOC_ARENA_MAX=1
  - GRADLE_OPTS="-Xmx768m -Xms256m -XX:MaxPermSize=372m -XX:+CMSClassUnloadingEnabled"
  - GIT_NAME="Graeme Rocher"
  - GIT_EMAIL="graeme.rocher@gmail.com"
  - secure: pHnl6kmSbiuRjvc3eyAdIvKwtIQFV54IQYYpPr5guvPB6UZKbPqHzpL8Ux04h7C5J286lWfFGnPutdufLgySCPBrYqf7WvDWK8Bb51y0dglW8E5BwhI/mU7Ifk+89Nuy78G90TPBMX+VNkGGhDxO+vywYInWgflfKT6Zwxf0ckqyR7MHTR+50+SmwGY9whKx6LOqQGka4e+hZ2nBHMq787qp/j3UIbIkvaoIZkXF7WiH9uqVi5a9ve076mCYeNaUVqzIT/l1sRX4JKR3tuNfqAp5s847nVQkF4S7+5G2iyK2JaJWJN95CZiphaBH1uhuHRMKaMsnHL/IZXG2hRQm/ayG2GKpCUxe2Fzu1wVtOM2GFcI1UFv+s1FdWjmxy44nHs2SgW/BJXjrHwq26A80nUWS2DH9HfpufRi97aW49AR6yuUihV8/2dSELgwgo6DmqY38mFSGExhE3q2E21Ml3TjZStIFJZ70FdkjJq5T3yPJ2b3XOe4HHNCQLprypld12f+3ts9EzC4Za2cifWMyKDfOKy77VHv2dpwY2mUfnOhSJghmpJg2uMj64EEOmw0iY4J8P2gexOH41k0+KxCzxDrBwP2/paPI4IU583uemBFDP6T4qLiY4cYBGna9biMqAuTvOwwtCm8L93fv4lhG2h8PnDcN9CF6UKlgIFwz9NI=
  - secure: MOMecCmgtKo2sH6XZ2uFlfMAC3qmAtCPyVAdW+hgkgmF6C67YMy+SKNguQgIo6/Zf6iEmDvuuZQaWU79YqlJJo+bq/9Qjmzg/DT6Ka985g5BQMo6bpe0PGk1P7B/X4aNYJdcm+S4b5I9cm8baBpdETLYC3ylg03pmFLyybL/xMXOK7VxHbzdDWD9sT4aow8E9EKr2DslGNOC+0zAVtdT4HyKE2WpfDfdS/S7oBTWYiowJKpDCnGsNh3JrllSrg/sfDqQUbJ9AdmXvvNRBZGOWWhjZ+2WNVfgNDHZ+RIf32yu+QIJoazt4Qk2kvdmkXatssLrheFgbfSRYWPd3r/AFEz/ND2JKyNrmgxQVGxfouf236cswxoaC0puq3z3W+TEOifLc3bM3cmYMXPur5xApQ8Qwya75nFbndbYIU44Ajlv1YAsCt49CRkiJF3+WHGehw2/GoRSmqYsnLE3tCtR0ph7SOpNrky96oTp0tNKSsHQ6yJm6kJQbZTSYmRB/cxdnMFDhSQhKmnt3eMRirAU63qF5GCZAYX05iDcrZ3O3aswV9Ch0C86uvIaOKxFmahoao7koF/IU9UTCBYFn4hW9FXjqc+XEJAtLJaEIgGi3vZWeKBgEguYnym3tlBkT5ICaQAoYCv5IZDU6+yg8vEWBoE+OgW91kmpLErkSqJCpmE=
  - secure: NgpLZZ+ylqa6ituW3MUH366KMOrOV1gQZlMJkxbrnOabQ+UDASV81fkMWaCz7wP3T5cw1ukZIEWXdQoMCxZR1B64X7VzFtJF7+w4YNPeysmTSOIi46B6kdyHSzK47zdYtRGEP/EPXcqMDGE2ppmdta9RFYQWPrCKAobB0zvhoqG6LzwEhYsCrwFBwBh4ZHnlsFPgvRoKGDmmIyWbcnhF5jOQJFH2VF0Mk8V/VkjaMN4X9ZVGcMdPO8rtMovSaq1MoYWXjuDY1gRRHR9NvsaB2KyTHb4yAi24k58mbLSwZQUze0idDOHSeJFV6UQ0SUquKD+FJlfJ19DEfdI73kogTjdWyMdqwVq/Nzb2nlmxFcreSUMQCwOvudOYF5+jKu7S4o5Yd0+yl01iSYZXEKc3Hudz9XyX941Kf7LNYHUKwRtH+uTaJM4aphNLLCynaGeT4ZODefcEQLR7li988heQodvIP5kPz1mLEKqQ0v5K/HVdhfsK52rVqSmMyRBlevAnv0No3Sr4Mnp9LHP6sOmm6BtrWLZAyV53CRv+PbIoe3cUPd+SCPH6ahADpT8NKlv9I1tKlskDV0mwq1kSWRB4CWGN47Q8kX4/2YGOaLIf60BkMKoIqvv+EKqrjtJHG8aD/0TheojgF8PohE9i9irTmB9KgJocbE1HUQn8Jcut0c4=
  - secure: HOH3FfLvVKeyLyGnd88U9KacnD0pYJffVM5Vb272DE0az+NhgcAuG+UlzgPyNSNglqlFKe212qDhGKFmgEqqX7QuM5CxAdcCbyXlh1/sprgEkfFnHBIl5tYZn4IVuik7wa4UK3ndXu/eyTupGi6kVqrzndEbeb14qXnFUPAaMCu8ndahY7N+O8Q6AGdLW9J2PMucO3UGwL2ZEITOPxfEqCEG246ny514RudwOfawC9vhvn/ExK50JE/nJM9nNxaTDHLBPBXqjZD2Fns5POS+z8ny+9Q74Q1toPkdCtGIHPowC+wyKXmRQH7L+6u1I2QIsOI0LLOOz38oJdB57B1kiEiJpBzCLpfS283ayA/ar8TbEDNKd5p1Pf0+5YY27kz+JxvBY0ZYZodqHD0w1XnuH7PqUZQPv6BqhEYWjv/2G2I4vCeLHWG7D3d32V4T6N9FpCOSIjvg3rMb5OM5WP+/SDFXp67Qr+PI/C4adANR7Ed7vDBSWpxR8eVRYRSTn8zsFLDZTPTxJznwmrtR0SIwYBe5WpGgOF9UElSVJ85a++dDnn8hTfAj6XfDnZGVw9xTVcje+ZaS+XjuUdY4Dx0iKmrfvUNHbhZzSqtjdPJwLG7EBvGDqwek15Mx2cW5fHEZZi3dLj1RPDbiBa1aAYDHMogMjakk1zkJbAbkLX79t3E=
  - secure: k3Bb1tlDwJ/12tXcXH8wef9bY57v8+mtizDWK4uNAunKpXVUCFBXiUy1C/DEW2Fa60LoNHiuZUFK4VJezEWQOoEoBUyIH7mG2HJPPaNhO7BqWjcRnnTopBNIHXM1SgOXbgOJ+fagsBMQysyf10VeFiuphJpI4P75RmcHgMR9LDqAznUcqAMMrr5cUeHfpDTG5nKeqaUbEn+50E2k8X2ItYampt2W0LNOqPMEA7KR8NiYiouokQ9k5EFZjRbV43vawggaYeMD9yar2SrjYrJk0lwntp74XFDFKdrvKtw0WylEhTLVtPuvUM430P7Fc8gflof5Mk3eXtOzquUNCd263xmE2HbUBNf+wmiXexRDXQjI8zJPYPnfcw4zihaqgOMMN3XS/m+Q1KrV7TgsLPU/MLTlJrbSdxKumG7n5eZAQmJ672uikNAictbqZJmxrWxauq15uMBHxBem9gYQHjnOFP2FWhOh5aBwx/7wxozSkyCMqu+YDYl1erwCzmlH7u68PEG6fmGsjzuC3eTjgofMbmpTigkB4GNjdryMOdQW5fHDNsK9oUoowcgYEmiI9BxOvCi03Q/jAZaxbHSNWBUaYvtqiXl7AsaE1/kFAjnzET/yymShPxicsnt8BT4A2n6f8F/2z2z3aNus8bZYlzfcvc9LezkUBG9X+Pm3OiOwYMM=
  - secure: eGjuhhZfYduZ8+m4CJrIi+H+iY30a5oVJF6K8R9cbQ3nIeJTcssjrH7pqbc8pSyKiNMZm3KSqd9JC7LLx/ckmxpsHlMX/GEpBcTxkaaClRgmJUNnvNthYbdS8hoiqj2ko1kV9f3xlP8CAMNeUf1Z6I3axx2kr812eivnJeSmnBOv5UbRxiUm+lwetnGk3WcxHb1XByEbfbyzvh2JLLiFC66kW0ROLHlD33uSfkffUFUHnZKArxx14TizNsEmqqtd+JG/WpuITOlhQXzL7khIpzxJgzoBkmOBjG/+cE0kKRQFnPFGdJAcUrnJUasml/XRgjnEGay9xGAAjOy/5Yk8znl6JrjIdCBt0g/oXMUdash4/2kYJ8qkWhh7+bP/8pmL1p/KbMJFaiqU/DiTqr1aSM1tArrOxIaGD2NXWz0q50YFS6mvwrGMZNpPvfscQNz/NYU7Utx/npctfCqkqkm7kijhMXCb0HRG+sjuI2K/FrHgK1L1btRDaloC8XB/S0ypQ2dVhoX2B50w6avBBaxGNl4cCRga8XTT65y0MBBP+JEGylWlZSpc52kRlBJnYDOZao9Nci7mxiUeZ/ZjENyvsygnTYaVfYAIIq/nj6mj8HhJsUOvRVJGXpO/Dne+M2uO4uAo/iNoHxH8SiyKLr+Q4Na/GDoNDKsCJ3ipGgvh+sA=
  - secure: thn3UtUXd8ywSb38EsiIBw8hjuVMGbkZYDViny11wTNade9SagdETwBDo+E3okzwww/7Cn3nN2br58KXoazwLf/jrmsf2AvFGYfTFJTWYTfZBoU3PnrY722Mjo1EOA5/oW4L0pEHQhz2/bpWZWvHDZMpGYOnUWKI0A3YV2oCGiZhTyACiNAL/AjBbDxIKtVBjIO3kgnqyafTMTud5En88fMYighLhS/gvvu1Uja3nRVwLbTVN8uoVi74XtZOqRW2fnr0qUUZymNqJIly6XMyjm0xAYPNV7mIOFLmmknyrDWzELLWBToJya9qkvLIomn4+ZBs9FpMIV0U82XH28cjR7weU1GX91350pU4ZkT/6K7pOVLjg645jrrt6Pst+NJleR38BwTUc9eqvINMEGirDXFonYtErYP7x3INpLxW+iA9m4MHzU5ojow63uhfe/6yrgs0S3v8e6untqumwXY1s116YUkDDtVNl/IbPsaiRbfnb/cQ/bdJoszxlZrUrmEdMp2R/1Gj8jgYdseoM3RFk7/D1fjLqu7VSDF0znsKSU8Us8MrJQUnJepmTPxEPiILci9spzXFz3mFppZExlIjE9sfS31NP6VHQjjyFEyIrPecQU3fM3Hm4pZecPUoWJfXZmFYagS5RLELeECYPfmERXKucmoZjFmFqUkIIKIiD8E=
  - secure: hYhJq9oFGYP66Rr7eaVDIn6pqSpVl6X3/3HsxaohqT53pXOOlhXaPsuuLrLdffyBiN8B7gIkT1UiMRFBjDZC86QPrSqI+Pc8SXds2D4QMBTqhe6bFVZeK+NkjeSO1KPRR5Xt2elCr33o8Qltgcs1Ff4+cZQk+DjnnUp2pVHqRuXj64GjY8Rb1P3DSOda27weK3O3+0hPaN1yhPv+y/KuHKr7hw3K5+L8bv/zMMy2RHws++kXcaRlUKEeeM/ymU8b4n6OO7DsDAf9CPx35xA/G1dmNmf9W/Kn1oamhUSEGuW2U94QvGAXA5kVk8Dn0XuR+1trNzmnUhcKMqvd/Ch+kDYjjm7EPHY16N3Gsnwu9bPkzvaG4L0qZZw5yJoFES/4UyArq9Rfu3eXx7xN9NxI+q3GdZA2jCczlm9bBBeSTVnngwLgBcUh0h5ogagKX5YjyZ1jsCiotElQSAf/f76XJ9uqHaag6EaUjjnpE9/3TNOEOHUUhpp+NGN4YubeybAmp3rxoaOg7MwmzIEA0+YzfOAtHF7Wx2MxYN8IpxhS1r54kyBGL6It+TCr7J+Pll48khc4vJnRloR8NefW+L5oIwjyvGUJzxPwFrNrYXr3S6nSD4RyuidguRpvBHL2rkJyw6zHzoH4Zea0Q6fZJeDyRCiSUcSiNaINAWjThEMwbTI=
  - secure: SbYm5K/vXb3mKr5kGwQis+FYHSxvzWsj/HA5vkSFGobdzgNODOQh5EHooefr6sjzec59zTpuHsJoFsQn1fT5OfZZluEaDLbVpB6zHxLvmpRsXkoMqisPt8W8ZChars2cnTERqjbzlRZuroO+IMSIQyuYhhYPAWpg4S/vAkkVcxw6d8jACaKvr5DoPVOLg+Fny0uDNeeLKwawSKNG2RAXgY2lLgF98J0Y/y5d+tnuKqKHRfXrdWscCzQAfOu5PUau6pejGjqinZqgvV7OGqlBiv99+7LrKzggsO7zDua3gKzuESM1vax+NfPhR2vQs2Y4/P5ghX1XV0mRg4J+RpGMfoijXB48dHonC5VHPTNoJCnqVV0QH914m2eFvHv+drJ89Bp3O+1xRHRBxvFroAVSSyIySuWERNa9GkkvfH0+EbsC3ByHGM434jFaoAmyM6tO4Rj1WPoZBm5hPoP98vP5Jj0IVmeLOQ3RK9hG1iHZpqw6AGAmSvvU6eXaVwRwyOAILPLyYyrAPA+RWuv27Ti0BqgumrOYpTEcS5U22Z4i1Q6r/+QcPS/Spn1uy73Pvwv7xN/J6/GVZATAiifktR5adATPyVpsHYJ8wdd0F3SJLj6wcbGr55jyHpaSgd4CwyEma4q4dSqfCcZSG+nzGzyb1rP+RXkaYKCR5bFWKuXZKMk=
  - secure: cNnH0rKn3YLCNJAI4XZmBPXq0i1VYowF6kMD93dpiXqaBYOSOporEE4JrNXXVE8MTjRuGB+b8KH1FiCrH/BgfUNDqr2ACEK7F9Nk6C8+4C0uLsIBDIe7SMvfnaqLfOf+sc12RqLx6Lm13wmOINDBUYrBeIhaxsC5RLFIbAKz4wpmmCsDlmeOtN/EqPFY/4WE7u5FZqMAhv7kvwOMii/YhOhIakApXrn0kr/BBjzYUIpS+gEkRaD6p6RV0s4v/2fyIWrlvYM7TY4x9yAGxe8618NlfEwyeYdGTNCWHA4GXuJgkCaPYv6VxghjWYusDF9yo3U4hV2mBxLBZQ7wVKcGSnveyS9di1UJc6+W6W1KuwXqbKIMmFxy1cSrDkSYnPOC09JNnJITfrUa16zOSNHKLmbkVxzwkfMOLnWS3y8XU29KzzLskTP7HzvWVH+pedjuIAJaS7wKQCn5iOuNji6K4Aw80y6CIj9+QE+P+bTExnEla0UfVJLRyJutJPQCn+QMmFxwoOjE/DsPb6K/OhfkXfcGpcnFjmjbhu3BsybHMp6LnTRd4YBRkiWsqNjfJ9lz3J+5L56Jiplb3t62bpsziU/oenxC1Ql21aPzBuAuY7XnALErAv+/+v8/eOFywYkV1QC5JWw8SPao533zmkebqUwenwPyhDlX0mwqB3Clf5o=
  - secure: DASWrEbKfWsTTwKCywK7KY3QTkvvb/2sH0qSB/159Bob9o7ET0u/JULnD2g0hzpoIN/wkdDXSK1TnC+H0tE35QJxhZwHz0O5BUwfjMXdmkmoHXlSuFCYL6AShG0+ZkUtRnlBYUeuXCbW5IipD3wYqhhXFqR7SMvh6+D6p85c5q2HZtqpoiWh4NsKJIiVQHsvdUOPO5gZJsMtPXgU8G590AGcdGF8aFkm4LfOHLqLk669qgRLPjF5z0I8uczckTzOwyZbT2hZliIXtaJEnSecI59/7M1VUGMxqM9N+0r8OB5OmvYXJNKvSz020Dwned2xz4wfXmzv7wZUDdUFDAzm2Lup6XKwvEpqj203+6x3rFAGLc4rg8MQwmtcf7+eyOYvxT8yTxgDL63LSLaITfjMNHteIo0sOcsAlCSdQfYAxltinMod4zOOHzZ/2frx6s2LKr1eRCFvpLI80FjvoO2bSTbNW5nmKrQahRlhEiljstfHOer7IRqLEp6gDjlJaQlqZwb1Gwc5D3TPekF4ERQsI0MsgBMvc+B7O4yp27R9o+lEfaiN/+z0lmKPq+78nsi/p9IOimxCJAs3dDcj/yQtIiCjf7tbfhocnZDIS7UHxX+aSNw8VQahJE/i7VMIu+L9HQAb6qeQdm4eBWLZFMwHFJTXB7xlP9973s5RDCCnJOA=
  - secure: OCTtXVH185hea/snUa9llLpfazS3WjHUDPso+rh5rReI7/Eoz4iQnHZ3xfawgdMW/Z1jpJArOh8lx8jparGC5GkJeuPTxtn6ciWWecdDiry//pBUk9aHaR8+OG88G5LOPBlB03gvj+JQ37pqOF/mOtLKwB8sbwvaOSXbkhW5X9ghcs2R0UMagj5WwujwgIJ2UpGYd0jDgX3SZdhXYPhck0IIvO/CWW0GWPbtqIj2In2U2E7oYHE87bALwzeh26TfKZjc/ULwwoRsxnx2u125rBtCPOFeSs93HVwd1eUyXNu2ln65TnwMeGUmEPqsP4QoK09vROc8cghQPrxZ1ElJ2u/IauIsF0L77V/Nk8t2N8TqZis31i2lo06z7L7EoPu+Qmrv00rjVj/9SA1pvsaVNUeINFajn/pQQIDq+L0IRJKRSEbVT7vyp7UIwNfFwQvbXMzJvjagkYIwoOQvsSIJ34rxXmwAF7Id7iH2SJa9DAONeVoKvD4BKpdEGcdkxN+8hX1RbrASANt0abI/62/stSRer6qJKRBj57oxQwa7mXUinioR1rXjILh1qvRqFg/2Zuurr9vnSTLlwjXHRN/RsAF3gMSs+rO2wRlMm4+HQ688MFwtmJEjZwy25xEuSFxBu8CN67cHpdialITclT+opuESL1dbN53PNk+GuUJlA5s=
  - secure: KzejrKxi08WJIEsf07NhVREmnhYGwJTaTcqveGGVbwGjpyX6kwfcHiwlhuQ/VbHVHj0QYNwIgs+KYtwz17dake45q2YgUi++p5K/MoIKKYhpHbBGqw6PVM0sODZ8XWBAit3CQYXv1g2duF7zhQgfiROzw1PQBVYjLZ6qg/yF+U9z32PoV6d9samxjd6F5qZ63r6qXbHuSFvWpMtnsvI+kU590Sov14UdKmFlPU5+b/8K8r0D19p+s2jyUMbUOI7IrFuAguMkTzM9mkHI90bAwB7c4lqmcTN2wltf7wrnr/pkzq954QEam87FZSearHU6W8/NtQre5RhEzAwJhNOqeZWJjRELr/HYxtZtHcYgOke9xHq/SKMV1Tvvw+bRAMAYNOGZ58IcQgQWf5s6Y97TWO2ZBiixZe53HJ04fiKCtJOiha8tSLer5g8SLlmM0vJ20kSX5tRCuXlFk7ptiIuzfUd+fAxVI8JvZ+EL4uZepRGxa6O5JhBohQsVb90OHViZy4Is7bLyYLvTDe107yERv05uecA/V5BDabhIupuPLvfHk/Ecxq3fUXuK2aEpxCTgYmmCEzuOYzYM7WBo54IazNfKtapiUk4RzUEHWREwVj9/QyOclDOJIzEtT3b/k4WCIHooRAo8FSCCWeRQBo4MAJNW6wdSmLVligFr9Br5yI4=
install: "/bin/true"
script:
- if [ "$TRAVIS_PULL_REQUEST" != "false" ]; then bash ./travis-build-pr.sh; fi
- if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then bash ./travis-build.sh; fi
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
